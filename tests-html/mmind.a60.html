<html><head><meta charset="utf-8"></head><body><pre><u>begin</u>
   <u>integer</u> COLOR1,COLOR2,COLOR3,COLOR4,
     ROW,COL,OLDROW,OLDCOL,MAXCOL;
   <u>integer</u> <u>array</u> HYP[1:4],BOARD[1:10,1:4],WHITES,BLACKS[1:10];
   <u>boolean</u> <u>array</u> OLDMAT,NEWMAT[1:4];

   <u>procedure</u> PATERN(ROW);
      <u>value</u> ROW; <u>integer</u> ROW;
   <u>begin</u>
      <u>integer</u> COL;
      <u>for</u> COL ≔ ,2,3,4 <u>do</u>
           <u>if</u> BOARD[ROW,COL]=1 <u>then</u> out string(1,“RED ”)
           <u>else</u> <u>if</u> BOARD[ROW,COL]=2 <u>then</u> out string(1,“BLUE ”)
           <u>else</u> <u>if</u> BOARD[ROW,COL]=3 <u>then</u> out string(1,“GREEN ”)
           <u>else</u> <u>if</u> BOARD[ROW,COL]=4 <u>then</u> out string(1,“YELLOW ”)
           <u>else</u> <u>if</u> BOARD[ROW,COL]=5 <u>then</u> out string(1,“BLACK ”)
           <u>else</u> <u>if</u> BOARD[ROW,COL]=6 <u>then</u> out string(1,“WHITE ”)
         <u>else</u> out string(1,“SPACE ”);
   <u>end</u> PRINT PATTERN;

   <u>procedure</u> PRINTROW;
   <u>begin</u> out string(1,“\nMy guess ”); out integer(1,ROW);
      out string(1,“ is: ”);
      PATERN(ROW);
   <u>end</u> PRINT THE CURRENT ROW;



   START: out string(1,“\n\nMastermind Codebreaker\nVersion 1 or 2 ?”);
   in integer(0,MAXCOL);
   <u>if</u> ¬(MAXCOL=1 ∨ MAXCOL=2) <u>then</u> <u>goto</u> START;
   MAXCOL ≔ AXCOL+5;
   ROW ≔ ;

   <u>for</u> COLOR1 ≔  <u>step</u> 1 <u>until</u> MAXCOL <u>do</u>
        <u>for</u> COLOR2 ≔  <u>step</u> 1 <u>until</u> MAXCOL,1 <u>do</u>
           <u>for</u> COLOR3 ≔  <u>step</u> 1 <u>until</u> MAXCOL,1,2 <u>do</u>
              <u>for</u> COLOR4 ≔  <u>step</u> 1 <u>until</u> MAXCOL,1,2,3 <u>do</u>
               <u>begin</u>
                  <u>integer</u> BLACK,WHITE;
                  HYP[1] ≔ OLOR1; HYP[2] ≔ OLOR2;
                  HYP[3] ≔ OLOR3; HYP[4] ≔ OLOR4;
                  <u>comment</u> SET UP THE HYPOTHESIS ROW.
                    A ROW IS CONSISTENT WITH ALL PREVIOUS ROWS IF IT
                    GIVES RISE TO THE SAME NUMBER OF BLACK AND WHITE INFORMATION
                    PEGS AS THOSE ROWS;
                  <u>for</u> OLDROW ≔  <u>step</u> 1 <u>until</u> ROW-1 <u>do</u>
                     <u>begin</u>
                        BLACK ≔ ;
                        <u>for</u> COL ≔ ,2,3,4 <u>do</u>
                           <u>begin</u>
                              <u>boolean</u> TEMP;
                              TEMP ≔ OLDMAT[COL] ≔ NEWMAT[COL] ≔ HYP[COL]=BOARD[OLDROW,COL];
                              <u>if</u> TEMP <u>then</u> BLACK ≔ LACK+1;
                           <u>end</u>;
                        <u>if</u> BLACK≠BLACKS[OLDROW] <u>then</u> <u>goto</u> NOT VIABLE;
                        WHITE ≔ ;
                        <u>for</u> COL ≔ ,2,3 <u>do</u>
                             <u>for</u> OLDCOL ≔ OL+1 <u>step</u> 1 <u>until</u> 4 <u>do</u>
                              <u>begin</u>
                                 <u>if</u> HYP[COL]=BOARD[OLDROW,OLDCOL] <u>then</u>
                                 <u>begin</u>
                                    <u>if</u> ¬(NEWMAT[COL] ∨ OLDMAT[OLDCOL]) <u>then</u>
                                    <u>begin</u>
                                       NEWMAT[COL] ≔ LDMAT[OLDCOL] ≔ ̲<u>rue</u>;
                                       WHITE ≔ HITE+1;
                                    <u>end</u>
                                 <u>end</u>;
                                 <u>if</u> HYP[OLDCOL]=BOARD[OLDROW,COL] <u>then</u>
                                 <u>begin</u>
                                    <u>if</u> ¬(NEWMAT[OLDCOL] ∨ OLDMAT[COL]) <u>then</u>
                                    <u>begin</u>
                                       NEWMAT[OLDCOL] ≔ LDMAT[COL] ≔ ̲<u>rue</u>;
                                       WHITE ≔ HITE+1;
                                    <u>end</u>
                                 <u>end</u>
                              <u>end</u>;
                        <u>if</u> WHITE≠WHITES[OLDROW] <u>then</u> <u>goto</u> NOT VIABLE;
                     <u>end</u> LOOK AT EACH PREVIOUS ROW;
                  <u>comment</u> AT THIS POINT THE HYPOTHESIS ROW IS VIABLE;
                  <u>for</u> COL ≔  <u>step</u> 1 <u>until</u> 4 <u>do</u> BOARD[ROW,COL] ≔ YP[COL];
                  PRINTROW;
                  JUNK:             out string(1,“\nHow many black pegs ? ”);
                  in integer(0,BLACKS[ROW]);
                  <u>if</u> BLACKS[ROW]=4 <u>then</u>
                  <u>begin</u>
                     out string(1,“Thanks for the game”);
                     <u>goto</u> START;
                  <u>end</u> PROBLEM SOLVED
                    <u>else</u> <u>if</u> BLACKS[ROW]=3 <u>then</u> WHITES[ROW] ≔ 
                  <u>else</u>
                  <u>begin</u>
                     <u>if</u> BLACKS[ROW]&lt;0 ∨ BLACKS[ROW]&gt;4 <u>then</u>
                     <u>begin</u>
                        out string(1,“TWIT !!”); <u>goto</u> JUNK;
                     <u>end</u>;
                     out string(1,“How many white pegs ? ”);
                     in integer(0,WHITES[ROW]);
                     <u>if</u> WHITES[ROW]&lt;0 ∨
                       WHITES[ROW]+BLACKS[ROW]&gt;4 <u>then</u>
                     <u>begin</u> out string(1,“TWIT !!”); <u>goto</u> JUNK;
                     <u>end</u>
                  <u>end</u>;
                  ROW ≔ OW+1;
                  <u>if</u> ROW=10 <u>then</u>
                  <u>begin</u>
                     out string(1,“\nWELL DONE, YOU WIN !!”);
                     <u>goto</u> START;
                  <u>end</u>;

                  NOT VIABLE:
               <u>end</u> LOOK AT EACH POSSIBLE ROW;

   out string(1,“\nTwit !!! you made a mistake”);
   <u>goto</u> START;
<u>end</u> OF MASTERMIND CODEBREAKER;
</pre></body></html>

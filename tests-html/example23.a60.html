<html><head><meta charset="utf-8"></head><body><pre><u>begin</u>
   <u>comment</u> testing of formal procedures and non local accesses;
   <u>procedure</u> main;
   <u>begin</u>
      <u>integer</u> a, b, c;
      <u>procedure</u> p (b, q, r, s); 
           <u>value</u> b; <u>boolean</u> b;
           <u>procedure</u> q; <u>procedure</u> r; <u>procedure</u> s; 
        <u>begin</u>
         <u>if</u> b <u>then</u> q (s) <u>else</u> r (s)
      <u>end</u>;
      <u>procedure</u> f1 (p1); <u>procedure</u> p1; p1 (a, b, c);
      <u>procedure</u> f2 (p1); <u>procedure</u> p1; p1 (a, b);
      <u>procedure</u> a1 (a, b, c); <u>integer</u> a, b, c; a ≔ b + c;
      <u>procedure</u> a2 (a, b); <u>integer</u> a, b; a ≔ b;
      <u>procedure</u> mainer;
      <u>begin</u>
         <u>procedure</u> go to (L); <u>value</u> L; <u>label</u> L; <u>goto</u> L;
         <u>procedure</u> dummy (p, L); <u>procedure</u> p; <u>label</u> L;
            p(L);
         <u>procedure</u> doit;
         <u>begin</u>
            <u>switch</u> L ≔ L1, <u>if</u> b <u>then</u> L2 <u>else</u> L1;
            dummy (go to, L [n]);
         <u>end</u>;
         <u>integer</u> n;
         <u>boolean</u> b;
         n ≔ 2; b ≔ <u>true</u>;
         doit;
         L1: outstring (1, “Incorrect\n”);
         <u>goto</u> L end;
         L end:
      <u>end</u>;
      b ≔ 1; c ≔ 2;
      <u>comment</u> now two calls;
      outstring (1, “Example 23: switches, formals a̲n̲d̲ non local access\n”);
      p (<u>true</u>, f1, f2, a1); 
        outstring (1, “ after the call t̲o̲ a1 ”); outinteger (1, a); 
        p (<u>false</u>, f1, f2, a2); 
        outstring (1, “ after the call t̲o̲ a2 ”); outinteger (1, a); 
        mainer;
      L2: outstring(1, “Correct\n”);
   <u>end</u>;
   main;
<u>end</u>
</pre></body></html>
